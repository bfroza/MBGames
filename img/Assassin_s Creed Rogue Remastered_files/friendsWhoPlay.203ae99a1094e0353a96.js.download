(window.pswCommerceAnywhere=window.pswCommerceAnywhere||[]).push([[12],{244:function(e,t,r){"use strict";r.r(t);var n=r(27),o=r(24),i=r.n(o),a=r(3),c=r.n(a),l=r(0),s=r(18),p=r.n(s),f=r(349),d=r(333),u=r(339),y=r(8),g=r(260),m=r(325),b=r(340),w=r(344),O=r(56),P=function(e){var t=e.isOfficiallyVerified,r=e.isPsPlusMember,n=e.name,o=e.onlineId,i=e.pictureAltText,a=e.pictureUrl,c=e.qa;return l.g.createElement(w.a,{className:Object(y.b)("psw-p-b-5","psw-b-b-divider","psw-body-2","psw-c-b-player-friend"),image:l.g.createElement(O.a,{className:Object(y.b)("psw-l-w-icon-5","psw-r-pill"),alt:i,src:a}),isOfficiallyVerified:t,isPsPlusMember:r,name:n,onlineId:o,qa:"".concat(c,"#friend-profile"),trophyLevel:!1})};P.defaultProps={isOfficiallyVerified:!1,isPsPlusMember:!1,name:"",onlineId:"",pictureAltText:"",pictureUrl:"",qa:"friend-profile"};var h=P,v=function(e){var t,r=e.profiles,n=e.qa,o=e.variant,a=function(e){return"grid"===e?Object(y.b)("psw-l-w-1/1","psw-l-w-1/2@tablet-s","psw-l-w-1/3@tablet-l","psw-l-w-1/3@laptop","psw-l-w-1/3@desktop","psw-l-w-1/3@max","psw-m-0","psw-p-6","psw-m-b-3"):"psw-p-b-6"};return l.g.createElement("ul",{className:(t=o,"grid"===t?Object(y.b)("psw-fwp-list","psw-fwp-list-grid","psw-grid-list","psw-l-grid"):Object(y.b)("psw-fwp-list","psw-fwp-list-stack","psw-grid-list","psw-l-stack")),"data-qa":n},r.map((function(e,t){return l.g.createElement("li",{className:a(o)},l.g.createElement(h,i()({},e,{qa:"".concat(n,"#profile-").concat(t)})))})))};v.defaultProps={profiles:[],qa:"friend-profile-list",variant:"grid"};var j=v,I=function(){return arguments.length<=1?void 0:arguments[1]},E=function(){},C=function(e){var t=e.format,r=e.hasError,n=e.isFetchingFriends,o=e.profiles,i=e.qa,a=e.theme;return n?l.g.createElement("div",{className:Object(y.b)("psw-center","psw-p-y-6"),"data-qa":"".concat(i,"#waitindicator")},l.g.createElement(m.a,{className:"psw-icon-xl",icon:"loading-indicator-".concat(a),variant:"spinner"})):r?l.g.createElement(b.a,{className:"psw-no-scroll",header:t("string","msgid_well_didnt_work"),body:t("string","msgid_wait_minute_try_again"),qa:"".concat(i,"#error")}):l.g.createElement(j,{profiles:o,qa:"".concat(i,"#profiles"),variant:"stack"})};C.defaultProps={format:I,friendsProfile:[],hasError:!1,isFetchingFriends:!1,qa:"mfe-friends-who-play-full-dialog-profiles",theme:"light"};var W=C,A=function(e){var t=e.captureNavigationEvent,r=e.conceptId,n=e.currentPage,o=e.fetchFriendsWhoPlay,i=e.format,a=e.friendsProfile,c=e.productId,s=e.qa,f=e.theme,d=a.slice(0,6),u=Object(l.o)(!1),y=p()(u,2),g=y[0],m=y[1],b=Object(l.o)(!1),w=p()(b,2),O=w[0],P=w[1],h=Object(l.o)(d),v=p()(h,2),j=v[0],I=v[1];return Object(l.l)((function(){t({conceptId:r,pageNumber:n,productId:c})}),[n]),Object(l.l)((function(){P(!0),1!==n?o({pageArgs:{offset:6*(n-1),size:6}}).then((function(e){var t=e.error,r=e.friendsProfile;t?m(!0):(m(!1),I(r)),P(!1)})):(m(!1),I(d),P(!1))}),[n]),l.g.createElement(W,{format:i,hasError:g,isFetchingFriends:O,profiles:j,qa:s,theme:f})};A.defaultProps={captureNavigationEvent:E,conceptId:"",currentPage:1,fetchFriendsWhoPlay:E,format:I,friendsProfile:[],productId:"",qa:"mfe-friends-who-play-full-dialog-profiles-container",theme:"light"};var D=A,F=function(e){var t=e.captureNavigationEvent,r=e.conceptId,n=e.fetchFriendsWhoPlay,o=e.format,i=e.friendsCount,a=e.friendsProfile,c=e.onClose,s=e.productId,m=e.qa,b=e.theme,w=Object(l.o)(1),O=p()(w,2),P=O[0],h=O[1],v="dark"===b?"psw-dark-theme":"psw-light-theme",j=Math.ceil(i/6);return l.g.createElement(f.a,{className:v,footer:l.g.createElement(d.a,{variant:"transparent"},l.g.createElement(u.a,{className:Object(y.b)("psw-l-line-repel"),currentPage:P,format:o,onChange:function(e){var t=e.selectedPage;return h(t)},qa:"".concat(m,"#paginator"),totalPages:j})),header:l.g.createElement(g.a,{closeLabel:o("string","msgid_close")},o("string","msgid_friends_play_this")),onClose:c,openOnMount:!0},l.g.createElement(D,{captureNavigationEvent:t,conceptId:r,currentPage:P,fetchFriendsWhoPlay:n,format:o,friendsCount:i,friendsProfile:a,productId:s,qa:m,theme:b}))};F.defaultProps={captureNavigationEvent:E,conceptId:"",fetchFriendsWhoPlay:E,format:I,friendsCount:0,friendsProfile:[],onClose:E,productId:"",qa:"mfe-friends-who-play-full-dialog",theme:"light"};var q=F,S=r(50),k=function(e){var t=e.className,r=e.conceptId,n=e.format,o=e.friendsWhoPlayFriendsCount,i=e.onViewAllClicked,a=e.productId,c=e.qa,s=e.showViewAllButton;return l.g.createElement("div",{className:Object(y.b)(t)},s?l.g.createElement(S.a,{className:"psw-t-link",ctaType:"tertiary",qa:"".concat(c,"#view-all"),telemetryMeta:JSON.stringify({conceptId:r,friendsWhoPlayFriendsCount:o,productId:a}),trackClick:"friendsWhoPlay:viewAllFriendsWhoPlay",onClick:i},n("string","msgid_view_all_label")):null)};k.defaultProps={className:"",conceptId:"",format:I,friendsWhoPlayFriendsCount:0,onViewAllClicked:E,productId:"",qa:"friend-view-all",showViewAllButton:!1};var N=k,_=function(e){var t=e.conceptId,r=e.format,n=e.friendsCount,o=e.onViewAllClicked,i=e.productId,a=e.qa,c=e.showViewAllButton;return l.g.createElement("div",{className:Object(y.b)("psw-l-line-repel","psw-p-6"),"data-qa":a},l.g.createElement("h3",{className:"psw-t-link","data-qa":"".concat(a,"#friends-count")},r("string","msgid_friends_who_play",n)),l.g.createElement(N,{className:"psw-l-exclude@below-tablet-l",conceptId:t,format:r,friendsWhoPlayFriendsCount:n,onViewAllClicked:o,productId:i,qa:a,showViewAllButton:c}))};_.defaultProps={conceptId:"",format:I,friendsCount:0,qa:"friend-profile-heading",onViewAllClicked:E,productId:"",showViewAllButton:!1};var V=_,x=function(e){var t=e.conceptId,r=e.error,n=e.friendsCount,o=e.friendsProfile,a=e.format,c=e.isSignedIn,s=e.maxFriendsToShowCount,p=e.onViewAllClicked,f=e.productId,d=e.qa;if(!c||!n)return null;var u={friendsWhoPlayFriendsCount:n,productId:f,conceptId:t},g={"data-track-content":"friendsWhoPlay:fwpImpression","data-telemetry-meta":JSON.stringify(u),"data-track":JSON.stringify({eventInfo:{eventAction:"impression",eventName:"friends who play impression"},attributes:{label:"friendsWhoPlay",moduleName:"friendsWhoPlay",userActionFlag:!1}})};return l.g.createElement(l.g.Fragment,null,l.g.createElement("h2",{className:Object(y.b)("psw-l-section","psw-t-title-l","psw-t-align-c","psw-m-b-9"),"data-qa":"".concat(d,"#heading")},a("string","msgid_friends_play_this")),function(){if(r)return l.g.createElement(b.a,{className:"psw-no-scroll",header:a("string","msgid_well_didnt_work"),body:a("string","msgid_wait_minute_try_again"),qa:"".concat(d,"#error")});var e=n>s;return l.g.createElement(l.g.Fragment,null,l.g.createElement("div",i()({className:Object(y.b)("psw-c-bg-card-1","psw-l-section")},g),l.g.createElement(V,{conceptId:t,format:a,friendsCount:n,qa:"".concat(d,"#header"),onViewAllClicked:p,productId:f,showViewAllButton:e}),l.g.createElement(j,{profiles:o,qa:"".concat(d,"#profiles")}),l.g.createElement(N,{className:Object(y.b)("psw-fill-x","psw-l-exclude@tablet-l","psw-l-line-center","psw-p-y-4"),conceptId:t,format:a,friendsWhoPlayFriendsCount:n,onViewAllClicked:p,productId:f,qa:d,showViewAllButton:e})))}())};x.defaultProps={conceptId:"",error:!1,format:I,friendsCount:0,friendsProfile:[],isSignedIn:!1,maxFriendsToShowCount:9,onViewAllClicked:E,productId:"",qa:"mfe-friends-who-play"};var T=x;function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var $=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},function(e){var t=e.telemetry;return{friendsWhoPlay:{make:function(e){var r=e.fetchFriendsWhoPlay;return R(R({layer:"sidePanel",scrim:"top",ui:"FriendsWhoPlayFullDialog"},e),{},{actions:{captureNavigationEvent:function(e){t.capture("friendsWhoPlay:navigation:viewFriendsWhoPlay",e)},fetchFriendsWhoPlay:r}})}}}}({telemetry:e.telemetry}))};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var U=function(e){var t=e.telemetry;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},$({telemetry:t}))},z=r(14),J=r.n(z),G=r(12);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(){var e=J()(["query friendsWhoPlayRetrieveByConceptId($conceptId: ID!, $pageArgs: PageArgs) {\n  gameListFriendsOwningGame(conceptId: $conceptId, pageArgs: $pageArgs) {\n    profiles {\n      onlineId\n      name\n      avatar {\n        url\n        altText\n      }\n      profilePicture {\n        url\n        altText\n      }\n      isOfficiallyVerified\n      isPsPlusMember\n    }\n    pageInfo {\n      offset\n      totalCount\n    }\n  }\n}"]);return Q=function(){return e},e}var K=Object(G.gql)(Q()),X=function(e){var t=e.conceptId,r=e.options,n=e.pageArgs;return Y(Y({},r),{},{query:K,variables:{conceptId:t,pageArgs:n}})};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(){var e=J()(["query friendsWhoPlayRetrieveByProductId($productId: ID!, $pageArgs: PageArgs) {\n  friendsWhoPlayByProductId(productId: $productId, pageArgs: $pageArgs) {\n    profiles {\n      onlineId\n      name\n      avatar {\n        url\n        altText\n      }\n      profilePicture {\n        url\n        altText\n      }\n      isOfficiallyVerified\n      isPsPlusMember\n    }\n    pageInfo {\n      offset\n      totalCount\n    }\n  }\n}"]);return te=function(){return e},e}var re=Object(G.gql)(te()),ne=function(e){var t=e.productId,r=e.options,n=e.pageArgs;return ee(ee({},r),{},{query:re,variables:{productId:t,pageArgs:n}})},oe=function(e){var t=e.avatar,r=e.isOfficiallyVerified,n=e.isPsPlusMember,o=e.name,i=e.onlineId,a=e.profilePicture;return{isOfficiallyVerified:r,isPsPlusMember:n,name:o,onlineId:i,pictureUrl:(null==a?void 0:a.url)||(null==t?void 0:t.url),pictureAltText:o||i}},ie=function(e){var t=e.data,r=(null==t?void 0:t.friendsWhoPlayByProductId)||(null==t?void 0:t.gameListFriendsOwningGame);if(!r)return{error:!0};var n=r.pageInfo,o=r.profiles.map((function(e){return oe(e)}));return{error:!1,friendsCount:n.totalCount,friendsProfile:o}},ae=function(e){var t=e.app,r=e.context,n=void 0===r?{}:r;return t.layers.addLayerItemTypes(U(t)),function(e){var t=e.apolloClient,r=e.context,n=e.i18n,o=r.conceptId,i=r.productId,a=o?X:ne;return{fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.options,n=e.pageArgs;return t.query(a({conceptId:o,productId:i,options:r,pageArgs:n})).then(ie)},get:function(e){var r,c=e.size,l=e.offset;try{r=t.readQuery(a({conceptId:o,productId:i,pageArgs:{offset:l,size:c}}),!0)}catch(e){return console.error("ERROR",e),null}return ie({data:r,cultureCode:n.getCultureCode()})}}}({apolloClient:t.apolloClient,context:n})};function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=function(e){var t=e.telemetry;!function(e){e.telemetry.addSpec("friendsWhoPlay",{"click:viewAllFriendsWhoPlay":{make:function(e){var t={},r=e.conceptId,n=e.friendsWhoPlayFriendsCount,o=e.productId;return r&&(t=le(le({},t),{},{conceptId:r})),o&&(t=le(le({},t),{},{productId:o})),{type:"Interaction",payload:{friendsWhoPlayContext:"WEB_STORE",friendsWhoPlayFriendsCount:n,friendsWhoPlayState:"empty",friendsWhoPlayType:"STRAND",interactAction:"select view all friends who play",interactCta:"view all friends who play",visualEntityType:"FRIENDS_WHO_PLAY"},utData:{catalogInfo:t}}}}})}({telemetry:t}),function(e){e.telemetry.addSpec("friendsWhoPlay",{"impression:fwpImpression":{make:function(e){return{type:"ViewableImpression",batchEventType:"ViewableImpressionCollection",payload:{friendsWhoPlayContext:"WEB_STORE",friendsWhoPlayFriendsCount:e.friendsWhoPlayFriendsCount,friendsWhoPlayState:"empty",friendsWhoPlayType:"STRAND",visualEntityType:"FRIENDS_WHO_PLAY"},utData:{catalogInfo:{productId:e.productId,conceptId:e.conceptId}}}}}})}({telemetry:t}),function(e){e.telemetry.addSpec("friendsWhoPlay",{"navigation:viewFriendsWhoPlay":{make:function(e){var t={},r=e.conceptId,n=e.pageNumber,o=e.productId;return r&&(t=pe(pe({},t),{},{conceptId:r})),o&&(t=pe(pe({},t),{},{productId:o})),{type:"Navigation",payload:{locationScene:"web:store:friends who play:friends list:".concat(n)},utData:{catalogInfo:t}}}}})}({telemetry:t})};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(n.default)("friendsWhoPlay",(function(e){var t=e.app,r=e.render,n=e.args,o=e.overrides;return{name:"friendsWhoPlay",core:ae({app:t,context:n}),init:function(){fe({telemetry:t.telemetry}),t.addComponent("FriendsWhoPlayFullDialog",q)},getInitialProps:function(){return t.session.isUserSignedIn()?this.core.fetch({pageArgs:{size:9}}):null},isEmpty:function(){return!1},render:function(e){var a=ue(ue(ue(ue({},n),o),e),{},{fetchFriendsWhoPlay:this.core.fetch});return r(l.g.createElement(T,i()({format:t.i18n.format,isSignedIn:t.session.isUserSignedIn(),maxFriendsToShowCount:9,onViewAllClicked:function(){return t.layers.show(ue({type:"friendsWhoPlay"},a))}},a)))}}}))}},[[244,2,1,4,3,5,0]]]);